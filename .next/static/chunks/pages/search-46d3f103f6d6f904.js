(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{4267:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(7462),i=n(3366),o=n(7294),l=(n(5697),n(6010)),a=n(7463),c=n(1496),s=n(7623),x=n(1420);function u(e){return(0,x.Z)("MuiCardContent",e)}(0,n(1271).Z)("MuiCardContent",["root"]);var d=n(5893);const h=["className","component"],p=(0,c.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var f=o.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=n,x=(0,i.Z)(n,h),f=(0,r.Z)({},n,{component:c}),m=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},u,t)})(f);return(0,d.jsx)(p,(0,r.Z)({as:c,className:(0,l.Z)(m.root,o),ownerState:f,ref:t},x))}))},6242:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(7462),i=n(3366),o=n(7294),l=(n(5697),n(6010)),a=n(7463),c=n(1496),s=n(7623),x=n(5113),u=n(1420);function d(e){return(0,u.Z)("MuiCard",e)}(0,n(1271).Z)("MuiCard",["root"]);var h=n(5893);const p=["className","raised"],f=(0,c.ZP)(x.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"})));var m=o.forwardRef((function(e,t){const n=(0,s.Z)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=n,x=(0,i.Z)(n,p),u=(0,r.Z)({},n,{raised:c}),m=(e=>{const{classes:t}=e;return(0,a.Z)({root:["root"]},d,t)})(u);return(0,h.jsx)(f,(0,r.Z)({className:(0,l.Z)(m.root,o),elevation:c?8:void 0,ref:t,ownerState:u},x))}))},8169:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return n(6710)}])},6710:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var r=n(5893),i=n(4051),o=n.n(i),l=n(7294),a=n(1163),c=n(1664),s=n(7357),x=n(6242),u=n(4267),d=n(5861),h=n(7918),p=n(7720),f=n(3321),m=n(2579),v=n(655),w=n(244),g=n(8210),b=n(7426),y=n(9061),Z=n(6507);var j=n(994),D=n(2055);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t,n,r,i,o,l){try{var a=e[o](l),c=a.value}catch(s){return void n(s)}a.done?t(c):Promise.resolve(c).then(r,i)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=[{name:"Playlist",type:"playlists"},{name:"Audio",type:"audios"},{name:"T\xe1c gi\u1ea3",type:"authors"},{name:"K\xeanh",type:"channels"}],_=function(e){var t=e.searchResults,n=e.type,i=e.spaceBetween,o=e.isSm,l=e.playlistImgWidth,a=e.numItemPerLine,h=o?16:32;switch(n){case"playlists":return(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"".concat(i,"px"),flexWrap:"wrap",rowGap:"".concat(h,"px"),mb:"48px"}),children:t.map((function(e){var t;return(0,r.jsx)(c.default,{href:"/".concat(n,"/").concat(e.id),style:{width:"calc(100% / ".concat(o?a:5," - ").concat((a-1)*h/a,"px)"),height:"".concat(l,"px")},children:(0,r.jsx)("a",{children:(0,r.jsx)(m.Z,{style:{width:"100%",height:"100%",borderRadius:3},avtSrc:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)},e.id)})},e.id)}))});case"audios":return(0,r.jsx)(s.Z,{sx:O({width:"100%"},(0,g.X)("flex-start","center"),{flexDirection:"column",rowGap:o?0:"24px",mb:"48px"}),children:t.map((function(e){var t,n;return(0,r.jsx)(s.Z,{sx:O({width:"100%",height:o?"74px":"116px"},(0,g.X)("flex-start","center")),children:(0,r.jsx)(c.default,{href:"/audio-play/".concat(null===e||void 0===e?void 0:e.id),style:{textDecoration:"none",height:"100%",width:"100%"},children:(0,r.jsxs)(x.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:o?"10px":"20px",bgcolor:"inherit",boxShadow:"none",width:"100%",height:"100%"}),children:[(0,r.jsxs)(s.Z,{sx:{width:o?"40px":"100px",height:o?"40px":"100px",position:"relative"},children:[(0,r.jsx)("img",{style:{width:o?"40px":"100px",height:o?"40px":"100px",borderRadius:"50%"},src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)}),(0,r.jsx)(v.Z,{fontSize:o?"small":"large",sx:{position:"absolute",color:b.DM.white,top:"50%",left:"50%",transform:"translate(-50%,-50%)"}})]}),(0,r.jsx)(u.Z,{sx:O({},(0,g.X)("space-between","flex-start"),{flexDirection:"column",flex:"1 0 auto",p:0,height:"100%",width:o?"calc(100% - 110px)":"calc(100% - 120px)","&:last-child":{p:0}}),children:(0,r.jsxs)(s.Z,{sx:O({},(0,g.X)("space-between","center"),{width:"100%",borderBottom:"1px solid ".concat(b.DM.bg2),height:"100%"}),children:[(0,r.jsxs)(s.Z,{sx:O({},(0,g.X)("center","flex-start"),{flexDirection:"column",flex:"1 0 auto",rowGap:"6px",width:o?"100%":"75%"}),children:[(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.white,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.name}),(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"6px"}),children:(0,r.jsx)(d.Z,{sx:O({},o?b.gN.content2:b.gN.content1,{color:b.DM.contentIcon,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e||null===(n=e.playlist)||void 0===n?void 0:n.name})})]}),!o&&(0,r.jsxs)(s.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"11px",width:"20%"}),children:[(0,r.jsx)(w.Z,{sx:{color:b.DM.VZ_Text_content}}),(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.VZ_Text_content}),children:(0,j.Z)(null===e||void 0===e?void 0:e.duration)})]})]})})]})})},null===e||void 0===e?void 0:e.id)}))});case"authors":return(0,r.jsx)(s.Z,{sx:O({width:"100%"},(0,g.X)("flex-start","center"),{flexDirection:"column",rowGap:o?0:"24px",mb:"48px"}),children:t.map((function(e){var t;return(0,r.jsx)(s.Z,{sx:O({width:"100%",height:o?"74px":"116px"},(0,g.X)("flex-start","center")),children:(0,r.jsx)(c.default,{href:"/authors/".concat(null===e||void 0===e?void 0:e.id),style:{textDecoration:"none",height:"100%",width:"100%"},children:(0,r.jsxs)(x.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:o?"10px":"20px",bgcolor:"inherit",boxShadow:"none",width:"100%",height:"100%"}),children:[(0,r.jsx)(s.Z,{sx:{width:o?"40px":"100px",height:o?"40px":"100px",position:"relative"},children:(0,r.jsx)("img",{style:{width:o?"40px":"100px",height:o?"40px":"100px",borderRadius:"50%"},src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)})}),(0,r.jsx)(u.Z,{sx:O({},(0,g.X)("space-between","flex-start"),{flexDirection:"column",flex:"1 0 auto",p:0,height:"100%",width:o?"calc(100% - 110px)":"calc(100% - 120px)","&:last-child":{p:0}}),children:(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("space-between","center"),{width:"100%",borderBottom:"1px solid ".concat(b.DM.bg2),height:"100%"}),children:(0,r.jsxs)(s.Z,{sx:O({},(0,g.X)("center","flex-start"),{flexDirection:"column",flex:"1 0 auto",rowGap:"6px",width:"100%"}),children:[(0,r.jsx)(d.Z,{sx:O({},o?b.gN.title2:b.gN.title1,{color:b.DM.white,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.name}),(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"6px"}),children:(0,r.jsx)(d.Z,{sx:O({},o?b.gN.content2:b.gN.content1,{color:b.DM.contentIcon,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.description})})]})})})]})})},null===e||void 0===e?void 0:e.id)}))});case"channels":return(0,r.jsx)(s.Z,{sx:O({width:"100%"},(0,g.X)("flex-start","center"),{flexDirection:"column",rowGap:"24px",mb:"48px"}),children:t.map((function(e){var t;return(0,r.jsx)(s.Z,{sx:O({width:"100%",height:o?"74px":"116px"},(0,g.X)("flex-start","center")),children:(0,r.jsx)(c.default,{href:"/".concat(n,"/").concat(null===e||void 0===e?void 0:e.id),style:{textDecoration:"none",height:"100%",width:"100%"},children:(0,r.jsxs)(x.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:o?"10px":"20px",bgcolor:"inherit",boxShadow:"none",width:"100%",height:"100%"}),children:[(0,r.jsx)(s.Z,{sx:{width:o?"40px":"100px",height:o?"40px":"100px",position:"relative"},children:(0,r.jsx)("img",{style:{width:o?"40px":"100px",height:o?"40px":"100px",borderRadius:"50%"},src:null===e||void 0===e||null===(t=e.avatar)||void 0===t?void 0:t.thumb_url,alt:"images ".concat(e.name)})}),(0,r.jsx)(u.Z,{sx:O({},(0,g.X)("space-between","flex-start"),{flexDirection:"column",flex:"1 0 auto",p:0,height:"100%",width:o?"calc(100% - 110px)":"calc(100% - 120px)","&:last-child":{p:0}}),children:(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("space-between","center"),{width:"100%",borderBottom:"1px solid ".concat(b.DM.bg2),height:"100%"}),children:(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("center","flex-start"),{flexDirection:"column",flex:"1 0 auto",rowGap:"6px",width:"100%"}),children:(0,r.jsx)(d.Z,{sx:O({},o?b.gN.title2:b.gN.title1,{color:b.DM.white,display:"-webkit-box",textOverflow:"ellipsis",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden"}),children:null===e||void 0===e?void 0:e.name})})})})]})},null===e||void 0===e?void 0:e.id)},null===e||void 0===e?void 0:e.id)}))})}};var C=(0,a.withRouter)((function(){var e=new D.Z,t=(0,y.Z)(),n=t.width<=b.nN.sm,i=(0,l.useState)("playlists"),c=i[0],x=i[1],u=(0,l.useState)([]),m=u[0],v=u[1],w=(0,l.useState)({}),j=w[0],k=w[1],N=(0,l.useState)(!1),C=N[0],G=N[1],R=function(){var e=(0,a.useRouter)().query;return(0,l.useMemo)((function(){return new URLSearchParams(e)}),[e])}().get("searchKey"),P=n?3:5,W=n?16:24;(0,l.useEffect)((function(){var e={type:c,searchKey:R,nextOffset:null,language:null,nextQueryType:null};T(),B(e)}),[C]),(0,l.useEffect)((function(){v([]),k({}),G(!C)}),[c,R]),(0,l.useEffect)((function(){T()}),[]);var B=function(){var t,n=(t=o().mark((function t(n){var r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getSearchResults(n.type,n.searchKey,n.nextOffset,n.language,n.nextQueryType);case 3:return r=t.sent,t.next=6,r.data;case 6:i=t.sent,v(S(m).concat(S(i.data))),["playlists","audios"].includes(c)&&k(O({},i.meta)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function l(e){M(o,r,i,l,a,"next",e)}function a(e){M(o,r,i,l,a,"throw",e)}l(void 0)}))});return function(e){return n.apply(this,arguments)}}(),T=function(){var e=(0,Z.Z)()||[];e.push(R),(e=S(new Set(e))).length>5&&(e=e.slice(1)),function(e){var t=JSON.stringify(e);localStorage.setItem("keywords",t)}(e)};return(0,r.jsxs)(s.Z,{sx:{p:"".concat(48,"px"),width:"100%",boxSizing:"border-box"},children:[(0,r.jsx)(s.Z,{sx:{mb:n?"32px":"48px"},children:(0,r.jsxs)(d.Z,{sx:O({},n?b.gN.h3:b.gN.h1,{color:b.DM.white}),children:['K\u1ebft qu\u1ea3 t\xecm ki\u1ebfm cho "',R,'"']})}),(0,r.jsx)(s.Z,{sx:O({},(0,g.X)("flex-start","center"),{columnGap:"8px"}),children:X.map((function(e){return(0,r.jsx)(h.Z,{label:e.name,sx:O({bgcolor:e.type===c?b.DM.bg3:"transparent",color:b.DM.VZ_Text_content},b.gN.content2,{":hover":{bgcolor:b.DM.bg3}}),onClick:function(){var t;t=e.type,x(t)}},e.name)}))}),(0,r.jsx)(p.Z,{sx:{borderBottomColor:b.DM.bg2,mt:n?"16px":"24px",mb:n?"16px":"48px"}}),(0,r.jsxs)(s.Z,{children:[m.length>0&&(0,r.jsx)(_,{searchResults:m,type:c,isSm:n,playlistImgWidth:function(){var e=t.width-96,r=(P-1)*W/P;return n||(e-=b.pG),e/P-r}(),spaceBetween:W,numItemPerLine:P}),0===m.length&&(0,r.jsxs)(s.Z,{sx:{pt:n?"65px":"53px",width:n?"80%":"30%",textAlign:"center",ml:"auto",mr:"auto"},children:[(0,r.jsx)("img",{src:"/images/search404.png",alt:"search404"}),(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.bg4,mt:"32px"}),children:"Kh\xf4ng t\xecm th\u1ea5y t\u1eeb kh\xf3a ph\xf9 h\u1ee3p"}),(0,r.jsx)(d.Z,{sx:O({},b.gN.content1,{color:b.DM.bg4}),children:"H\xe3y th\u1eed v\u1edbi t\u1eeb kh\xf3a kh\xe1c"})]})]}),(null===j||void 0===j?void 0:j.next_offset)&&(0,r.jsx)(s.Z,{sx:{width:"100%",textAlign:"center"},children:(0,r.jsx)(f.Z,{onClick:function(){var e={type:c,searchKey:R,nextOffset:null,language:null,nextQueryType:null};["playlists","audios"].includes(c)&&(e.nextOffset=j.next_offset,e.nextQueryType=j.next_query_type,e.language=j.language),B(e)},sx:O({},b.gN.title1,{color:b.DM.white,textTransform:"none",width:"142px",height:"48px",border:"1px solid ".concat(b.DM.blackStroker)}),children:"Xem th\xeam"})})]})})),G=function(){return(0,r.jsx)(C,{})}}},function(e){e.O(0,[774,888,179],(function(){return t=8169,e(e.s=t);var t}));var t=e.O();_N_E=t}]);